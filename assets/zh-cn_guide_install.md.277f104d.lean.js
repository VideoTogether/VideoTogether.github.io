import{g,o as h,c as u,d as c,F as f,p as _,h as m,_ as w,b,a as C}from"./app.c25e0c02.js";const k=n=>(_("data-v-145c827a"),n=n(),m(),n),x=k(()=>c("p",{id:"install_text"},null,-1)),S=g({__name:"ViaInstall",setup(n){window.VideoTogetherExtensionUrl="https://fastly.jsdelivr.net/gh/VideoTogether/VideoTogether@latest/release/extension.user.js",window.VideoTogetherWebsiteExtensionUrl="https://fastly.jsdelivr.net/gh/VideoTogether/VideoTogether@latest/release/extension.website.user.js";function o(t){try{document.querySelector("#install_text").innerHTML=document.querySelector("#install_text").innerHTML+" |"+t}catch{}}const s=async()=>{let t=!1;try{window.webkit.messageHandlers.jsExtensionContent.postMessage!=null&&(t=!0)}catch{}if(typeof window.via<"u"&&typeof window.via.addon<"u"){o("\u5F00\u59CBvia\u5B89\u88C5");try{window.via.addon(await d())}catch(e){o("\u5B89\u88C5\u5931\u8D25"+e)}}else if(t){o("\u5F00\u59CB\u9CA8\u9C7C\u6D4F\u89C8\u5668\u5B89\u88C5");try{let e={type:"via",source:await d()};console.info(e),window.webkit.messageHandlers.jsExtensionContent.postMessage(e),o("\u5B89\u88C5\u7ED3\u675F")}catch(e){o("\u5B89\u88C5\u5931\u8D25"+e)}}else o("\u4E0D\u662F\u9CA8\u9C7C\u6D4F\u89C8\u5668")};function l(t){try{return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(i,a){return String.fromCharCode("0x"+a)}))}catch{o("\u52A0\u5BC6\u5931\u8D25")}}async function d(){let t={author:"maggch@outlook.com",code:l(await p()),id:1656139986,name:"Video Together",url:"*"};return l(JSON.stringify(t))}async function p(){let t=window.VideoTogetherWebsiteExtensionUrl;const e=new AbortController;setTimeout(()=>e.abort(),3e3);try{o("\u63D2\u4EF6\u5730\u5740\uFF1A"+t);let a=await(await fetch(t,{signal:e.signal})).text();return o("\u83B7\u53D6\u63D2\u4EF6\u6570\u636E\u6210\u529F\uFF0C\u5F00\u59CB\u5B89\u88C5"),a}catch{o("\u83B7\u53D6\u63D2\u4EF6\u6570\u636E\u5931\u8D25")}}return function(){const e=new AbortController;setTimeout(()=>e.abort(),3e3),fetch("https://fastly.jsdelivr.net/gh/VideoTogether/VideoTogether@latest/release/extension.website.user.js",{signal:e.signal}).then(i=>{console.log(i)}).catch(i=>{let a=document.getElementsByTagName("a");for(let r=0;r<a.length;r++)a[r].href==window.VideoTogetherExtensionUrl&&(a[r].href="https://release.chizhou.in/release/extension.user.js"),a[r].href==window.VideoTogetherWebsiteExtensionUrl&&(a[r].href="https://release.chizhou.in/release/extension.website.user.js");window.VideoTogetherWebsiteExtensionUrl="https://release.chizhou.in/release/extension.website.user.js",console.error(i)})}(),(t,e)=>(h(),u(f,null,[c("button",{class:"btn",onClick:s},"\u5B89\u88C5 VideoTogether"),x],64))}});const T=w(S,[["__scopeId","data-v-145c827a"]]),V=C("",16),y=JSON.parse('{"title":"\u5B89\u88C5\u8BF4\u660E","description":"","frontmatter":{},"headers":[{"level":2,"title":"Windows / macOS","slug":"windows-macos","link":"#windows-macos","children":[]},{"level":2,"title":"\u5B89\u5353","slug":"\u5B89\u5353","link":"#\u5B89\u5353","children":[]},{"level":2,"title":"IOS 15 / iPad OS 15 \u53CA\u4EE5\u4E0A\u7248\u672C","slug":"ios-15-ipad-os-15-\u53CA\u4EE5\u4E0A\u7248\u672C","link":"#ios-15-ipad-os-15-\u53CA\u4EE5\u4E0A\u7248\u672C","children":[]},{"level":2,"title":"IOS 14 / iPad OS 14 \u53CA\u4EE5\u4E0B\u7248\u672C","slug":"ios-14-ipad-os-14-\u53CA\u4EE5\u4E0B\u7248\u672C","link":"#ios-14-ipad-os-14-\u53CA\u4EE5\u4E0B\u7248\u672C","children":[]}],"relativePath":"zh-cn/guide/install.md","lastUpdated":null}'),v={name:"zh-cn/guide/install.md"},B=Object.assign(v,{setup(n){return(o,s)=>(h(),u("div",null,[V,b(T)]))}});export{y as __pageData,B as default};
