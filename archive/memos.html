<!DOCTYPE html>
<!-- saved from url=(0034)https://memos.shaneomo.top/explore -->
<html lang="en" data-joy-color-scheme="light"><script src="chrome-extension://nkonhnokanencdjoknhhmnaaompbfdap/preInjected.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link rel="icon" href="./memos_files/logo.png" type="image/*">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f4f4f5">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#27272a">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="manifest" href="https://memos.shaneomo.top/manifest.json">
    <title>memos</title>
    <script type="module" crossorigin="" src="./memos_files/index-7a6dd5c0.js.下载"></script>
    <link rel="stylesheet" href="./memos_files/index-f0609578.css">
  <style data-emotion="css-global" data-s=""></style><style data-emotion="css-global" data-s=""></style><style data-emotion="css-global" data-s=""></style><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/Explore-a7443f2c.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/MemoResources-4b4b8261.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/last-862de5a8.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/Toast-5b90de6f.js"><link rel="stylesheet" href="./memos_files/Toast-11264e9c.css"><link rel="stylesheet" href="./memos_files/MemoResources-714d7aef.css"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/useLoading-c60a033f.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/Memo-8729a601.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/Select-3458d558.js"><link rel="stylesheet" href="./memos_files/Memo-ad5badee.css"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/Auth-6c3f0140.js"><link rel="modulepreload" as="script" crossorigin="" href="https://memos.shaneomo.top/assets/LocaleSelect-11b4b17b.js"><link rel="stylesheet" href="./memos_files/Auth-3d13ac53.css"><style data-emotion="css" data-s=""></style></head>
  <body>
    <div id="root"><section class="w-full min-h-full flex flex-col justify-start items-center pb-8 bg-zinc-100 dark:bg-zinc-800"><div class="sticky top-0 z-10 max-w-2xl w-full h-auto flex flex-row justify-between backdrop-blur-sm items-center px-4 sm:pr-6 pt-6 mb-2"><div class="flex flex-row justify-start items-center cursor-pointer hover:opacity-80"><img class="h-12 w-auto rounded-md mr-2" src="./memos_files/logo.png" alt=""><span class="text-xl sm:text-4xl text-gray-700 dark:text-gray-200">memos</span></div><div class="flex flex-row justify-end items-center"><a class="flex flex-row justify-center items-center h-12 w-12 border rounded-full hover:opacity-80 hover:shadow dark:text-white dark:border-gray-400" href="https://memos.shaneomo.top/explore/rss.xml" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-auto opacity-60"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div><main class="relative flex-grow max-w-2xl w-full h-auto flex flex-col justify-start items-start px-4 sm:pr-6"><div class="filter-query-container !hidden"><span class="mx-2 text-gray-400">Filter:</span><div class="filter-item-container !hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-text"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg> </div><div class="filter-item-container !hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-text"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path><path d="M7 7h.01"></path></svg> </div><div class="filter-item-container !hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-text"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><line x1="12" y1="22" x2="12" y2="12"></line></svg> </div><div class="filter-item-container !hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-text"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg> </div><div class="filter-item-container !hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-text"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg> </div></div><div class="memo-wrapper memos-13 "><div class="memo-top-wrapper"><div class="status-text-container"><span class="time-text" aria-label="Updated at an hour ago">4 hours ago</span><a class="name-text" href="https://memos.shaneomo.top/u/1">@shane</a></div></div><div class="memo-content-wrapper "><div class="memo-content-text "><h1>搭配使用Alist和VideoTogether</h1><p><span class="tag-span">#留存</span> </p><br><p>本文的目的在于有些想要同时使用Alist和VideoTogether的用户。教程主要面向使用体验，所以也只是面向一些相对小白的一些用户。当然前提是最好已经使用过Alist和VideoTogether。 </p><br><h2>为什么用Alist和VideoToghther</h2><p>主要原因是ViedeoTogether虽然可以支持大多数的视频网站，但是无奈于各大视频网站其实体验并不好。正版网站之流基本都需要会员，而盗版网站经常遇到加载失败且非常不稳定。所以使用一个“自己管理的视频网站”来进行同步就很有必要了。所以使用Alist来进行视频播放刚好解决了这一点。</p><br><p>同时Alist可以通过全局自定义头部来添加VideoTogether到网站中。这样就不用要求每个小伙伴都安装好VideoTogether插件。而通过打开链接就可以直接同步。</p><br><br><h2>部署Alist</h2><p>这部分主要参考Alist的<a class="link" target="_blank" href="https://alist.nn.ci/zh/guide/">官方文档</a>。基本完全参考官方文档中的Docker方式。本文是安装到一台已经安装好docker-compose的VPS中(这部分可以参考这个链接：<a class="link" target="_blank" href="https://docs.docker.com/compose/install/linux/">Install the Compose plugin</a> )。</p><p>当然Alist也可以部署到如群晖软路由等等各种奇怪的地方，具体可以参考Alist官方文档。</p><br><p>下面是一个部署的过程。</p><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">1.</span><span>通过SSH链接到VPS中</span></p><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">2.</span><span>在文档中复制官方的docker-compose文件到VPS中</span></p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.3'</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-attr">alist:</span>
        <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
        <span class="hljs-attr">volumes:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">'/etc/alist:/opt/alist/data'</span>
        <span class="hljs-attr">ports:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">'5244:5244'</span>
        <span class="hljs-attr">environment:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">PUID=0</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">PGID=0</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">UMASK=022</span>
        <span class="hljs-attr">container_name:</span> <span class="hljs-string">alist</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">'xhofe/alist:main'</span>
</code></pre><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">3.</span><span>docker-compose文件写好后用下面的命令启动。有的国内运营的VPS，可能需要注意一下端口的开放情况。可能需要放行规则或者关闭防火墙。</span></p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-bash">docker-compose up -d
</code></pre><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">4.</span><span>这里就会启动容器，可以通过下面的命令查看。</span></p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-bash">docker ps
</code></pre><br><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">5.</span><span>通过以下的命令来查看admin密码。</span></p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-bash">docker <span class="hljs-built_in">exec</span> -it alist ./alist admin
</code></pre><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">6.</span><span>接下来就可以通过 IP:5244 的方式来进行访问了。如果没有问题，就可以通过admin和上面的密码登录到后台了。</span></p><br><h2>添加VideoTogether到网站中。</h2><p>根据VideoTogether的<a class="link" target="_blank" href="https://videotogether.github.io/zh-cn/guide/website.html">文档</a></p><p>只需要一条script就可以添加。</p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-javascript">&lt;script src=<span class="hljs-string">"https://fastly.jsdelivr.net/gh/VideoTogether/VideoTogether@latest/release/extension.website.user.js"</span>&gt;&lt;/script&gt;
</code></pre><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">1.</span><span>进入Alist后台，找到全局设置。</span></p><p><img class="img" src="./memos_files/yAzeMgB8H7Kl3PZ.png"></p><br><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">2.</span><span>VideoToghther的script到自定义头部中。</span></p><p><img class="img" src="./memos_files/GJnONVF123lyLPh.png"></p><br><p class="li-container"><span class="whitespace-pre"></span><span class="ol-block">3.</span><span>保存好后回到主页就可看见右下角的VideoTogether按钮。</span></p><p><img class="img" src="./memos_files/gorSTsH2I1nqpQJ.png"></p><br><p>这里其实有个槽点在于Alist的工具栏和VideoToghther其实相互挡住了按钮。所以这里我们可以再添加一个自定义头部来修改Alist按钮的位置。</p><pre class="group"><button class="text-xs font-mono italic absolute top-0 right-0 px-2 leading-6 border btn-text rounded opacity-0 group-hover:opacity-60">copy</button><code class="language-javascript">&lt;script&gt;
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"DOMContentLoaded"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> seAList = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"style"</span>);

  seAList.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
    .left-toolbar-box {
        left: var(--hope-space-5);
        right: auto;
    }
`</span>;

  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(seAList);
});
&lt;/script&gt;
</code></pre><p>就会变成下图的效果。这样能改善不少。</p><p><img class="img" src="./memos_files/65nGDihu4aOw1fs.png"></p><br><br><h2>使用上的流程</h2><p>至此，你就可以在Alist上添加各式各样的存储，并使用在线功能预览视频，加上网页上自带的VideoTogether来同步观看视频了。</p><p><img class="img" src="./memos_files/fUhuKxtk6mpLFWn.png"></p><p>不过需要注意的是，预览视频很看重视频的格式。如果你的视频有多音轨或者格式不算太主流，那么很多视频都会没有声音（算是最大的一个使用上问题）。</p><br><h2>参考信息和文中出现的所有链接</h2><p><a class="link" target="_blank" href="https://videotogether.github.io/zh-cn/guide/website.html">https://videotogether.github.io/zh-cn/guide/website.html</a></p><p><a class="link" target="_blank" href="https://alist.nn.ci/zh/">https://alist.nn.ci/zh/</a></p><p><a class="link" target="_blank" href="https://docs.docker.com/compose/install/linux/">https://docs.docker.com/compose/install/linux/</a></p></div></div><div class="resource-wrapper "></div></div></main></section></div>
    
    <script>
      var global = global || window;
      window.addEventListener("load", () => {
        if ("serviceWorker" in navigator) {
          navigator.serviceWorker.register("/sw.js");
        }
      });
    </script>
  

<div>

<style>
    #videoTogetherLoading {
        touch-action: none;
        height: 50px;
        border: 1px solid #c9c8c8;
        background: #ffffff;
        color: #212529;
        display: flex;
        align-items: center;
        z-index: 2147483646;
        position: fixed;
        bottom: 15px;
        right: 15px;
        width: 250px;
        text-align: center;
        box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
        border-radius: 5px;
    }
    #videoTogetherLoadingwrap {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    #videoTogetherLoadingwrap img {
        margin-right: 12px;
    }
    #videoTogetherLoadingwrap a {
        color: #212529;
        text-decoration: none;
    }
    #videoTogetherLoadingwrap a:hover {
        color: #1890ff;
        text-decoration: underline;
    }
</style>
</div><script type="text/javascript" src="chrome-extension://nkonhnokanencdjoknhhmnaaompbfdap/vt.zh-cn.user.js"></script><div id="VideoTogetherWrapper"></div><div class="toast-list-container"></div></body></html>